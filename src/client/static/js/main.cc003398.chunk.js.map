{"version":3,"sources":["sections/Listings/assets/listing-loading-card-cover.jpg","sections/Home/assets/toronto.jpg","sections/Home/assets/dubai.jpg","sections/Home/assets/los-angeles.jpg","sections/Home/assets/london.jpeg","sections/Home/assets/map-background.jpg","sections/Home/assets/francisco.jpg","sections/Home/assets/cancun.jpeg","assets/google.png","lib/graphql/mutations/ConnectStripe/index.ts","lib/graphql/mutations/DisconnectStripe/index.ts","lib/graphql/mutations/LogIn/index.ts","lib/graphql/mutations/LogOut/index.ts","lib/graphql/mutations/HostListing/index.ts","lib/graphql/mutations/CreateBooking/index.ts","lib/utils/index.ts","sections/AppHeader/components/MenuItems/index.tsx","sections/AppHeader/index.tsx","lib/components/ErrorBanner/index.tsx","lib/components/AppHeaderSkeleton/index.tsx","lib/components/PageSkeleton/index.tsx","lib/components/ListingsCard/index.tsx","lib/graphql/queries/AuthUrl/index.ts","lib/graphql/globalTypes.ts","lib/graphql/queries/User/index.ts","lib/graphql/queries/Listing/index.ts","lib/graphql/queries/Listings/index.ts","sections/Listings/components/ListingsFilters/index.tsx","sections/Listings/components/ListingsPagination/index.tsx","sections/Listings/components/ListingsSkeleton/index.tsx","sections/Listings/index.tsx","sections/Stripe/index.tsx","sections/Home/components/HomeHero/index.tsx","sections/Home/components/HomeListings/index.tsx","sections/Home/components/HomeListingsSkeleton/index.tsx","sections/Home/index.tsx","sections/Host/index.tsx","sections/Listing/components/ListingDetails/index.tsx","sections/Listing/components/ListingBookings/index.tsx","sections/Listing/components/ListingCreateBooking/index.tsx","sections/Listing/components/ListingCreateBookingModal/index.tsx","sections/Listing/index.tsx","sections/NotFound/index.tsx","sections/User/components/UserProfile/index.tsx","sections/User/components/UserBookings/index.tsx","sections/User/components/UserListings/index.tsx","sections/User/index.tsx","sections/Login/index.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","CONNECT_STRIPE","gql","DISCONNECT_STRIPE","LOG_IN","LOG_OUT","HOST_LISTING","CREATE_BOOKING","formatListingPrice","price","round","formattedListingPrice","Math","displaySuccessNotification","message","description","notification","success","placement","style","marginTop","displayErrorMessage","error","Item","Menu","SubMenu","MenuItems","viewer","setViewer","useMutation","onCompleted","data","logOut","sessionStorage","removeItem","onError","subMenuItem","id","avatar","title","src","key","to","type","onClick","mode","selectable","className","Header","Layout","Search","Input","AppHeader","useState","search","setSearch","history","useHistory","location","useLocation","pathname","useEffect","pathnameSubStrings","split","includes","length","HomeTwoTone","twoToneColor","placeholder","enterButton","value","onChange","e","target","onSearch","trimmed","trim","push","ErrorBanner","banner","closable","AppHeaderSkeleton","PageSkeleton","skeletonParagraph","active","paragraph","rows","Text","Typography","Title","ListingCard","listing","image","address","numOfGuests","hoverable","cover","backgroundImage","level","strong","ellipsis","color","ListingType","ListingsFilter","AUTH_URL","USER","LISTING","LISTINGS","Option","Select","ListingsFilters","filter","setFilter","PRICE_LOW_TO_HIGH","PRICE_HIGH_TO_LOW","ListingsPagination","total","page","limit","setPage","current","defaultPageSize","hideOnSinglePage","showLessItems","ListingsSkeleton","grid","gutter","xs","sm","lg","dataSource","renderItem","loading","listingLoadingCardCover","Content","Paragraph","Listings","match","locationRef","useRef","params","useQuery","skip","variables","listings","listingsRegion","region","listingsSectionElement","result","offsetTop","mark","listingsRegionElement","Stripe","connectStripe","hasWallet","connectStripeRef","code","URL","window","href","searchParams","get","input","replace","size","tip","HomeHero","md","alt","torontoImage","dubaiImage","losAngelesImage","londonImage","HomeListings","HomeListingsSkeleton","Home","mapBackground","sanFranciscoImage","cancunImage","Form","beforeImageUpload","file","fileIsValidImage","fileIsValidSize","WrappedHost","create","name","form","hostListing","imageLoading","setImageLoading","imageBaseValue","setImageBaseValue","getFieldDecorator","layout","onSubmit","event","preventDefault","validateFields","err","values","fullAddress","city","state","postalCode","label","colon","rules","required","Group","Button","APARTMENT","HOUSE","min","extra","maxLength","TextArea","listType","showUploadList","customRequest","onSuccess","setTimeout","beforeUpload","info","status","originFileObj","img","callback","reader","FileReader","readAsDataURL","onload","getBase64Value","htmlType","ListingDetails","host","expandable","ListingBookings","listingBookings","bookingsPage","setBookingsPage","undefined","locale","emptyText","pagination","checkIn","checkOut","tenant","shape","ListingCreateBooking","checkInDate","checkOutDate","setCheckInDate","setCheckOutDate","bookingsIndex","setModalVisible","bookingsIndexJSON","JSON","parse","disableDate","currentDate","isBefore","moment","endOf","year","month","day","date","Boolean","dateIsBooked","viewerIsHost","checkInInputDisabled","checkOutDisabled","buttonDisabled","format","disabled","disabledDate","showToday","onOpenChange","dateCursor","add","WrappedCreateBookingModal","injectStripe","modalVisible","stripe","clearBookingData","handleRefetchListing","createBooking","daysBooked","diff","listingPrice","a","createToken","stripeToken","token","source","visible","centered","footer","onCancel","hidePostalCode","Listing","refetch","bookings","listingDetailsElement","listingCreateBookingElement","listingBookingsElement","justify","NotFound","stripeAuthUrl","process","UserProfile","user","viewerIsUser","handleUserRefetch","disconnectStripe","additionalDetailsSection","income","rel","contact","UserBookings","userBookings","position","UserListings","userListings","listingsPage","setListingsPage","User","stripeError","userListingsElement","userBookingsElement","Login","client","useApolloClient","logIn","setItem","logInData","logInLoading","logInError","logInRef","query","authUrl","viewerId","role","aria-label","googleLogo","hostname","uploadLink","createUploadLink","uri","setAuthorizationLink","HttpLink","setContext","request","previousContext","headers","getItem","ApolloClient","cache","InMemoryCache","link","ApolloLink","from","connectToDevTools","initialViewer","didRequest","App","error1","console","log","context","apiKey","exact","path","component","render","props","ApolloProvider","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.cc003398.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/toronto.30e16565.jpg\";","module.exports = __webpack_public_path__ + \"static/media/dubai.2a151ad0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/los-angeles.287bceab.jpg\";","module.exports = __webpack_public_path__ + \"static/media/london.e859bb73.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/map-background.736bb193.jpg\";","module.exports = __webpack_public_path__ + \"static/media/francisco.c4697804.jpg\";","module.exports = __webpack_public_path__ + \"static/media/cancun.02a8dbdf.jpeg\";","module.exports = \"data:image/png;base64,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\"","import { gql } from \"apollo-boost\";\r\n\r\nexport const CONNECT_STRIPE = gql`\r\n  mutation ConnectStripe($input: ConnectStripeInput!) {\r\n    connectStripe(input: $input) {\r\n      hasWallet\r\n    }\r\n  }\r\n`\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const DISCONNECT_STRIPE = gql`\r\n  mutation DisconnectStripe {\r\n    disconnectStripe {\r\n      hasWallet\r\n    }\r\n  }\r\n`\r\n","import { gql } from 'apollo-boost'\r\n\r\nexport const LOG_IN = gql`\r\n    mutation LogIn($input: LogInInput) {\r\n        logIn(input: $input) {\r\n            id\r\n            token\r\n            avatar\r\n            hasWallet\r\n            didRequest\r\n        }\r\n    }\r\n`","import { gql } from 'apollo-boost'\r\n\r\nexport const LOG_OUT = gql`\r\n    mutation LogOut {\r\n        logOut {\r\n            id\r\n            token\r\n            avatar\r\n            hasWallet\r\n            didRequest\r\n        }\r\n    }\r\n`","import { gql } from 'apollo-boost'\r\n\r\nexport const HOST_LISTING = gql`\r\n  mutation HostListing($input: HostListingInput!) {\r\n    hostListing(input: $input) {\r\n      id\r\n    }\r\n  }\r\n`\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const CREATE_BOOKING = gql`\r\n  mutation CreateBooking($input: CreateBookingInput!) {\r\n    createBooking(input: $input) {\r\n      id\r\n    }\r\n  }\r\n`\r\n","import { message, notification } from \"antd\";\r\n\r\nexport const iconColor = '#1890ff'\r\n\r\nexport const formatListingPrice = (price: number, round = true) => {\r\n  const formattedListingPrice = round ? Math.round(price / 100) : price / 100\r\n  return `$${formattedListingPrice}`\r\n}\r\n\r\nexport const displaySuccessNotification = (message: string, description?: string) => {\r\n  return notification.success({\r\n    message,\r\n    description,\r\n    placement: 'topLeft',\r\n    style: {\r\n      marginTop: '50',\r\n    }\r\n  })\r\n}\r\n\r\nexport const displayErrorMessage = (error: string) => {\r\n  return message.error(error)\r\n}\r\n","import React from \"react\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Icon, Menu, Avatar } from \"antd\";\r\n\r\nimport { LOG_OUT } from \"../../../../lib/graphql/mutations\";\r\nimport { LogOut as LogOutData } from '../../../../lib/graphql/mutations/LogOut/__generated__/LogOut'\r\nimport { Viewer } from \"../../../../lib/types\";\r\nimport {displayErrorMessage, displaySuccessNotification} from \"../../../../lib/utils\";\r\n\r\nconst { Item, SubMenu } = Menu\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nexport function MenuItems({ viewer, setViewer }: Props) {\r\n  const [logOut] = useMutation<LogOutData>(LOG_OUT, {\r\n    onCompleted: data => {\r\n      if (data && data.logOut) {\r\n        setViewer(data.logOut)\r\n        sessionStorage.removeItem('token')\r\n        displaySuccessNotification(\"You've successfully logged out!\")\r\n      }\r\n    },\r\n    onError: error => {\r\n      displayErrorMessage('Error!')\r\n    },\r\n  })\r\n\r\n  function handleLogOut() {\r\n    logOut()\r\n  }\r\n\r\n  const subMenuItem = viewer.id && viewer.avatar ? (\r\n    <SubMenu title={<Avatar src={viewer.avatar} />}>\r\n      <Item key='/user'>\r\n        <Link to={`/user/${viewer.id}`}>\r\n          <Icon type='user' />\r\n          Profile\r\n        </Link>\r\n      </Item>\r\n      <Item key='/logout'>\r\n        <div onClick={handleLogOut}>\r\n          <Icon type='logout' />\r\n          Log out\r\n        </div>\r\n      </Item>\r\n    </SubMenu>\r\n  ) : (\r\n    <Item>\r\n      <Link to='/login'>\r\n        <Button type='primary'>Sign in</Button>\r\n      </Link>\r\n    </Item>\r\n  )\r\n  return(\r\n    <Menu mode='horizontal' selectable={false} className='menu'>\r\n      <Item key='/host'>\r\n        <Link to='/host'>\r\n          <Icon type='home'/>\r\n          Host\r\n        </Link>\r\n      </Item>\r\n      {subMenuItem}\r\n    </Menu>\r\n  )\r\n}\r\n","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\nimport {Link, useHistory, useLocation } from 'react-router-dom'\r\nimport { Input, Layout } from 'antd'\r\nimport { MenuItems } from \"./components\";\r\nimport {Viewer} from \"../../lib/types\";\r\nimport {displayErrorMessage} from \"../../lib/utils\";\r\nimport {HomeTwoTone} from \"@ant-design/icons\";\r\n\r\nconst { Header } = Layout\r\nconst { Search } = Input\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void\r\n}\r\n\r\nexport function AppHeader({ viewer, setViewer }: Props) {\r\n  const [search, setSearch] = useState('')\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n  const { pathname } = location\r\n\r\n  useEffect(() => {\r\n    const pathnameSubStrings = pathname.split('/')\r\n\r\n    if (!pathname.includes('/listings')) {\r\n      return setSearch('')\r\n    }\r\n    if (pathname.includes('/listings') && pathnameSubStrings.length === 3) {\r\n      return setSearch(pathnameSubStrings[2])\r\n    }\r\n  }, [location])\r\n\r\n  function onSearch(value: string) {\r\n    const trimmed = value.trim()\r\n\r\n    if (trimmed) {\r\n      history.push(`/listings/${trimmed}`)\r\n    } else {\r\n      displayErrorMessage('Please enter a valid search!')\r\n    }\r\n  }\r\n\r\n  function handleSearchChange(e: ChangeEvent<HTMLInputElement>) {\r\n    setSearch(e.target.value)\r\n  }\r\n\r\n  return(\r\n    <Header className='app-header'>\r\n      <div className='app-header__logo-search-section'>\r\n        <div className='app-header__logo'>\r\n          <Link to='/'>\r\n            <HomeTwoTone twoToneColor=\"#eb2f96\" />\r\n          </Link>\r\n        </div>\r\n        <div className='app-header__search-input'>\r\n          <Search\r\n            placeholder=\"Search 'San Francisco'\"\r\n            enterButton\r\n            value={search}\r\n            onChange={handleSearchChange}\r\n            onSearch={onSearch}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className='app-header__menu-section'>\r\n        <MenuItems viewer={viewer} setViewer={setViewer} />\r\n      </div>\r\n    </Header>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { Alert } from \"antd\";\r\n\r\ninterface Props {\r\n  message?: string;\r\n  description?: string;\r\n}\r\n\r\nexport function ErrorBanner(\r\n  {\r\n    message = 'Something went wrong!',\r\n    description = 'Looks like something went wrong. Please check your connection and/or try again later'\r\n  }: Props) {\r\n  return (\r\n    <Alert\r\n      banner\r\n      closable\r\n      message={message}\r\n      description={description}\r\n      type='error'\r\n      className='error-banner'\r\n    />\r\n  )\r\n}","import React from \"react\";\r\nimport { Layout } from 'antd'\r\nimport { HomeTwoTone } from '@ant-design/icons'\r\n\r\nconst { Header } = Layout\r\n\r\nexport function AppHeaderSkeleton() {\r\n  return(\r\n    <Header className='app-header'>\r\n      <div className='app-header__logo-search-section'>\r\n        <div className='app-header__logo'>\r\n          <HomeTwoTone />\r\n        </div>\r\n      </div>\r\n    </Header>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { Skeleton } from \"antd\";\r\n\r\nexport function PageSkeleton() {\r\n  const skeletonParagraph = (\r\n    <Skeleton\r\n      active\r\n      paragraph={{ rows: 4 }}\r\n      className='page-skeleton__paragraph'\r\n    />\r\n  )\r\n\r\n  return (\r\n    <>\r\n      {skeletonParagraph}\r\n      {skeletonParagraph}\r\n      {skeletonParagraph}\r\n    </>\r\n  )\r\n}","import React from \"react\";\r\nimport { Link } from 'react-router-dom'\r\nimport {Card, Icon, Typography} from \"antd\";\r\nimport {formatListingPrice, iconColor} from \"../../utils\";\r\n\r\ninterface Props {\r\n  listing: {\r\n    id: string\r\n    title: string\r\n    image: string\r\n    address: string\r\n    price: number\r\n    numOfGuests: number\r\n  }\r\n}\r\n\r\nconst { Text, Title } = Typography\r\n\r\nexport function ListingCard({ listing }: Props) {\r\n  const { id, title, image, address, price, numOfGuests } = listing\r\n\r\n  return (\r\n    <Link to={`/listing/${id}`}>\r\n      <Card\r\n        hoverable\r\n        cover={<div style={{ backgroundImage: `url(${image})` }} className='listing-card__cover-img' />}\r\n      >\r\n        <div className=\"listing-card__details\">\r\n          <div className=\"listing-card__description\">\r\n            <Title level={4} className='listing-card__price'>\r\n              {formatListingPrice(price)}\r\n              <span>/day</span>\r\n            </Title>\r\n            <Text strong ellipsis className='listing-card__title'>\r\n              {title}\r\n            </Text>\r\n            <Text ellipsis className='listing-card__location'>\r\n              {address}\r\n            </Text>\r\n          </div>\r\n          <div className=\"listing-card__dimensions listing-card__dimensions--guests\">\r\n            <Icon type='user' style={{ color: iconColor }} />\r\n            <Text>{numOfGuests} guests</Text>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </Link>\r\n  )\r\n}","import { gql } from 'apollo-boost'\r\n\r\nexport const AUTH_URL = gql`\r\n  query AuthUrl {\r\n      authUrl\r\n  }\r\n`","/* tslint:disable */\n/* eslint-disable */\n// @generated\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\nexport enum ListingType {\n  APARTMENT = \"APARTMENT\",\n  HOUSE = \"HOUSE\",\n}\n\nexport enum ListingsFilter {\n  PRICE_HIGH_TO_LOW = \"PRICE_HIGH_TO_LOW\",\n  PRICE_LOW_TO_HIGH = \"PRICE_LOW_TO_HIGH\",\n}\n\nexport interface ConnectStripeInput {\n  code: string;\n}\n\nexport interface CreateBookingInput {\n  id: string;\n  source: string;\n  checkIn: string;\n  checkOut: string;\n}\n\nexport interface HostListingInput {\n  title: string;\n  description: string;\n  image: string;\n  type: ListingType;\n  address: string;\n  price: number;\n  numOfGuests: number;\n}\n\nexport interface LogInInput {\n  code: string;\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const USER = gql`\r\n  query User($id: ID!, $bookingsPage: Int!, $listingsPage: Int!, $limit: Int!) {\r\n    user(id: $id) {\r\n      id\r\n      name\r\n      avatar\r\n      contact\r\n      hasWallet\r\n      income\r\n      bookings(limit: $limit, page: $bookingsPage) {\r\n        total\r\n        result {\r\n          id\r\n          listing {\r\n            id\r\n            title\r\n            image\r\n            address\r\n            price\r\n            numOfGuests\r\n          }\r\n          checkIn\r\n          checkOut\r\n        }\r\n      }\r\n      listings(limit: $limit, page: $listingsPage) {\r\n        total\r\n        result {\r\n          id\r\n          title\r\n          image\r\n          address\r\n          price\r\n          numOfGuests\r\n        }\r\n      }\r\n    }\r\n  }\r\n`","import { gql } from \"apollo-boost\";\r\n\r\nexport const LISTING = gql`\r\n  query Listing($id: ID!, $bookingsPage: Int!, $limit: Int!) {\r\n    listing(id: $id) {\r\n      id\r\n      title\r\n      description\r\n      image\r\n      host {\r\n        id\r\n        name\r\n        avatar\r\n        hasWallet\r\n      }\r\n      type\r\n      address\r\n      city\r\n      bookings(limit: $limit, page: $bookingsPage) {\r\n        total\r\n        result {\r\n          id\r\n          tenant {\r\n            id \r\n            name\r\n            avatar\r\n          }\r\n          checkIn\r\n          checkOut\r\n        }\r\n      }\r\n      bookingsIndex\r\n      price\r\n      numOfGuests\r\n    }\r\n  }\r\n`","import { gql } from \"apollo-boost\";\r\n\r\nexport const LISTINGS = gql`\r\n  query Listings($location: String, $filter: ListingsFilter!, $limit: Int!, $page: Int!) {\r\n    listings(location: $location, filter: $filter, limit: $limit, page: $page) {\r\n      region\r\n      total\r\n      result {\r\n        id\r\n        title\r\n        image\r\n        address\r\n        price\r\n        numOfGuests\r\n      }\r\n    }\r\n  }\r\n`","import React, {FC} from \"react\";\r\nimport { Select } from \"antd\";\r\nimport { ListingsFilter } from \"../../../../lib/graphql/globalTypes\";\r\n\r\ninterface Props {\r\n  filter: ListingsFilter;\r\n  setFilter: (filter: ListingsFilter) => void;\r\n}\r\n\r\nconst { Option } = Select\r\n\r\nexport const ListingsFilters: FC<Props> = ({ filter, setFilter }: Props) => {\r\n  return (\r\n    <div className='listings-filters'>\r\n      <span>Filter By:</span>\r\n      <Select value={filter} onChange={(filter: ListingsFilter) => setFilter(filter)}>\r\n        <Option value={ListingsFilter.PRICE_LOW_TO_HIGH}>Price: Low to High</Option>\r\n        <Option value={ListingsFilter.PRICE_HIGH_TO_LOW}>Price: High to Low</Option>\r\n      </Select>\r\n    </div>\r\n  )\r\n}\r\n","import React, {FC} from \"react\";\r\nimport { Pagination } from \"antd\";\r\n\r\ninterface Props {\r\n  total: number\r\n  page: number\r\n  limit: number\r\n  setPage: (page: number) => void\r\n}\r\n\r\nexport const ListingsPagination: FC<Props> = ({ total, page, limit, setPage }: Props) => {\r\n  return (\r\n    <Pagination\r\n      current={page}\r\n      total={total}\r\n      defaultPageSize={limit}\r\n      hideOnSinglePage\r\n      showLessItems\r\n      onChange={(page: number) => setPage(page)}\r\n      className='listings-pagination'\r\n    />\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { List, Card, Skeleton } from \"antd\";\r\n\r\nimport listingLoadingCardCover from '../../../Listings/assets/listing-loading-card-cover.jpg'\r\n\r\nexport function ListingsSkeleton() {\r\n  const emptyData = [{}, {}, {}, {}, {}, {}, {}, {}]\r\n  return (\r\n    <div>\r\n      <Skeleton paragraph={{ rows: 1 }} />\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          lg: 4,\r\n        }}\r\n        dataSource={emptyData}\r\n        renderItem={() => (\r\n          <>\r\n            <List.Item>\r\n              <Card\r\n                loading\r\n                className='listings-skeleton__card'\r\n                cover={\r\n                  <div\r\n                    style={{backgroundImage: `url(${listingLoadingCardCover})`}}\r\n                    className='listings-skeleton__card-cover-img'\r\n                  />\r\n                }\r\n              />\r\n            </List.Item>\r\n          </>\r\n        )}\r\n      />\r\n    </div>\r\n  )\r\n}","import React, {useEffect, useRef, useState} from \"react\";\r\nimport { RouteComponentProps, Link } from \"react-router-dom\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport {Affix, Layout, List, Typography} from \"antd\";\r\nimport {ErrorBanner, ListingCard} from \"../../lib/components\";\r\nimport { LISTINGS } from '../../lib/graphql/queries'\r\nimport {\r\n  Listings as ListingsData,\r\n  ListingsVariables\r\n} from \"../../lib/graphql/queries/Listings/__generated__/Listings\";\r\nimport { ListingsFilter } from \"../../lib/graphql/globalTypes\";\r\nimport {ListingsFilters, ListingsPagination, ListingsSkeleton} from \"./components\";\r\n\r\ninterface MatchParams {\r\n  location: string;\r\n}\r\n\r\nconst { Content } = Layout\r\nconst { Title, Paragraph, Text } = Typography\r\n\r\nconst PAGE_LIMIT = 8\r\n\r\nexport function Listings({ match }: RouteComponentProps<MatchParams>) {\r\n  const locationRef = useRef(match.params.location)\r\n  const [filter, setFilter] = useState(ListingsFilter.PRICE_LOW_TO_HIGH)\r\n  const [page, setPage] = useState(1)\r\n  const { data, loading, error } = useQuery<ListingsData, ListingsVariables>(LISTINGS, {\r\n    skip: locationRef.current !== match.params.location && page !== 1,\r\n    variables: {\r\n      location: match.params.location || '',\r\n      filter,\r\n      limit: PAGE_LIMIT,\r\n    page,\r\n  }\r\n})\r\n\r\nuseEffect(() => {\r\n    setPage(1)\r\n  locationRef.current = match.params.location\r\n  }, [match.params.location])\r\n\r\n  if (loading) {\r\n    return (\r\n      <Content className='listings'>\r\n        <ListingsSkeleton />\r\n      </Content>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Content className='listings'>\r\n        <ErrorBanner description='We either couldnt find anything matching your search or have encountered an error. If you are searching for a unique location, try searching again with more common keywords.' />\r\n        <ListingsSkeleton />\r\n      </Content>\r\n    )\r\n  }\r\n\r\n  const listings = data ? data.listings : null\r\n  const listingsRegion = listings ? listings.region : null\r\n\r\n  const listingsSectionElement = listings && listings.result.length ? (\r\n    <div>\r\n      <Affix offsetTop={64}>\r\n        <div>\r\n          <ListingsPagination\r\n            total={listings.total}\r\n            page={page}\r\n            limit={PAGE_LIMIT}\r\n            setPage={setPage}\r\n          />\r\n          <ListingsFilters filter={filter} setFilter={setFilter} />\r\n        </div>\r\n      </Affix>\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          lg: 4,\r\n        }}\r\n        dataSource={listings.result}\r\n        renderItem={listing => (\r\n          <List.Item>\r\n            <ListingCard listing={listing} />\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </div>\r\n  ) : (\r\n    <div>\r\n      <Paragraph>\r\n        It appears that no listings have yet been created for{' '}\r\n        <Text mark>\"{listingsRegion}\"</Text>\r\n      </Paragraph>\r\n      <Paragraph>\r\n        Be the first person to create a <Link to='/host'>listing in this area</Link>\r\n      </Paragraph>\r\n    </div>\r\n  )\r\n\r\n  const listingsRegionElement = listingsRegion ? (\r\n    <Title level={3} className='listings__title'>\r\n      Results for \"{listingsRegion}\"\r\n    </Title>\r\n  ) : null\r\n\r\n  return (\r\n    <>\r\n      <Content className='listings'>\r\n        {listingsRegionElement}\r\n        {listingsSectionElement}\r\n      </Content>\r\n    </>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { ConnectStripe as ConnectStripeData, ConnectStripeVariables } from \"../../lib/graphql/mutations/ConnectStripe/__generated__/ConnectStripe\";\r\nimport { CONNECT_STRIPE } from \"../../lib/graphql/mutations\";\r\nimport {Layout, Spin} from \"antd\";\r\nimport {useEffect, useRef} from \"react\";\r\nimport {Viewer} from \"../../lib/types\";\r\nimport {Redirect, RouteComponentProps} from \"react-router-dom\";\r\nimport {displaySuccessNotification} from \"../../lib/utils\";\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nconst { Content } = Layout\r\n\r\nexport function Stripe({ viewer, setViewer, history }: Props & RouteComponentProps) {\r\n  const [connectStripe, { data, loading, error }] = useMutation<ConnectStripeData, ConnectStripeVariables>(CONNECT_STRIPE, {\r\n    onCompleted: data => {\r\n      if (data && data.connectStripe) {\r\n        setViewer({ ...viewer, hasWallet: data.connectStripe.hasWallet })\r\n        displaySuccessNotification(\r\n          \"You've successfully connected your Stripe account!\",\r\n          'You can now begin to create listing in the Host page.'\r\n        )\r\n      }\r\n    }\r\n  })\r\n  const connectStripeRef = useRef(connectStripe)\r\n\r\n  useEffect(() => {\r\n    const code = new URL(window.location.href).searchParams.get('code')\r\n    if (code) {\r\n      connectStripeRef.current({\r\n        variables: {\r\n          input: { code },\r\n        }\r\n      })\r\n    } else {\r\n      history.replace('/login')\r\n    }\r\n  }, [history])\r\n\r\n  if (data && data.connectStripe) {\r\n    return <Redirect to={`/user/${viewer.id}`} />\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <Content className='stripe'>\r\n        <Spin size='large' tip='Connecting your Stripe account...'/>\r\n      </Content>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to={`/user/${viewer.id}?stripe_error=true`}/>\r\n  }\r\n\r\n  return null\r\n\r\n}\r\n","import React from \"react\";\r\nimport { Link } from 'react-router-dom'\r\nimport { Col, Row, Input, Typography, Card } from 'antd'\r\n\r\nimport torontoImage from '../../assets/toronto.jpg'\r\nimport dubaiImage from '../../assets/dubai.jpg'\r\nimport losAngelesImage from '../../assets/los-angeles.jpg'\r\nimport londonImage from '../../assets/london.jpeg'\r\n\r\nconst { Title } = Typography\r\nconst { Search } = Input\r\n\r\ninterface Props {\r\n  onSearch: (value: string) => void\r\n}\r\n\r\nexport function HomeHero({ onSearch }: Props) {\r\n  return (\r\n    <div className='home-hero'>\r\n      <div className='home-hero__search'>\r\n        <Title className='home-hero__title'>\r\n          Find a place you will love to stay at\r\n        </Title>\r\n        <Search\r\n          placeholder=\"Search 'San Francisco'\"\r\n          size='large'\r\n          enterButton\r\n          className='home-hero__search-input'\r\n          onSearch={onSearch}\r\n        />\r\n      </div>\r\n      <Row gutter={12} className='home-hero__cards'>\r\n        <Col xs={12} md={6}>\r\n          <Link to='listings/toronto'>\r\n            <Card cover={<img alt='Toronto' src={torontoImage} />}>\r\n              Toronto\r\n            </Card>\r\n          </Link>\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <Link to='listings/dubai'>\r\n            <Card cover={<img alt='Dubai' src={dubaiImage} />}>\r\n              Dubai\r\n            </Card>\r\n          </Link>\r\n        </Col>\r\n        <Col xs={0} md={6}>\r\n          <Link to='listings/los%20angeles'>\r\n            <Card cover={<img alt='Angeles' src={losAngelesImage} />}>\r\n              Los Angeles\r\n            </Card>\r\n          </Link>\r\n        </Col>\r\n        <Col xs={0} md={6}>\r\n          <Link to='listings/london'>\r\n            <Card cover={<img alt='London' src={londonImage} />}>\r\n              London\r\n            </Card>\r\n          </Link>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { List, Typography } from \"antd\";\r\nimport { ListingCard } from \"../../../../lib/components\";\r\nimport { Listings } from '../../../../lib/graphql/queries/Listings/__generated__/Listings'\r\n\r\ninterface Props {\r\n  title: string;\r\n  listings: Listings['listings']['result']\r\n}\r\n\r\nconst { Title } = Typography\r\n\r\nexport function HomeListings({ title, listings }: Props) {\r\n  return (\r\n    <div className='home-listings'>\r\n      <Title level={4} className='home-listings__title'>\r\n        {title}\r\n      </Title>\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          lg: 4,\r\n        }}\r\n        dataSource={listings}\r\n        renderItem={listing => (\r\n          <>\r\n            <List.Item>\r\n              <ListingCard listing={listing} />\r\n            </List.Item>\r\n          </>\r\n        )}\r\n      />\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport { List, Card, Skeleton } from \"antd\";\r\n\r\nimport listingLoadingCardCover from '../../../Listings/assets/listing-loading-card-cover.jpg'\r\n\r\nexport function HomeListingsSkeleton() {\r\n  const emptyData = [{}, {}, {}, {}]\r\n  return (\r\n    <div className='home-listings-skeleton'>\r\n      <Skeleton paragraph={{ rows: 0 }} />\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          lg: 4,\r\n        }}\r\n        dataSource={emptyData}\r\n        renderItem={() => (\r\n          <>\r\n            <List.Item>\r\n              <Card\r\n                loading\r\n                cover={\r\n                  <div\r\n                    style={{ backgroundImage: `url(${listingLoadingCardCover})` }}\r\n                    className='home-listings-skeleton__card-cover-img'\r\n                  >\r\n                  </div>\r\n                }\r\n              />\r\n            </List.Item>\r\n          </>\r\n        )}\r\n      />\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport {Link, RouteComponentProps} from \"react-router-dom\";\r\nimport {useQuery} from \"@apollo/client\";\r\nimport {Listings as ListingsData, ListingsVariables} from \"../../lib/graphql/queries/Listings/__generated__/Listings\";\r\nimport {ListingsFilter} from \"../../lib/graphql/globalTypes\";\r\nimport {Col, Layout, Row, Typography} from \"antd\";\r\nimport {HomeHero, HomeListings, HomeListingsSkeleton} from \"./components\";\r\n\r\nimport {displayErrorMessage} from \"../../lib/utils\";\r\n\r\nimport mapBackground from './assets/map-background.jpg'\r\nimport sanFranciscoImage from './assets/francisco.jpg'\r\nimport cancunImage from './assets/cancun.jpeg'\r\nimport {LISTINGS} from \"../../lib/graphql/queries\";\r\n\r\nconst { Content } = Layout\r\nconst { Title, Paragraph } = Typography\r\n\r\nconst PAGE_LIMIT = 4\r\nconst PAGE_NUMBER = 1\r\n\r\nexport function Home({ history }: RouteComponentProps) {\r\n  const { loading, data } = useQuery<ListingsData, ListingsVariables>(LISTINGS, {\r\n    variables: {\r\n      filter: ListingsFilter.PRICE_HIGH_TO_LOW,\r\n      limit: PAGE_LIMIT,\r\n      page: PAGE_NUMBER,\r\n    }\r\n  })\r\n\r\n  function onSearch(value: string) {\r\n    const trimmed = value.trim()\r\n    trimmed\r\n      ? history.push(`/listings/${trimmed}`)\r\n      : displayErrorMessage('Please enter a valid search!')\r\n  }\r\n\r\n  function renderListingsSection() {\r\n    if (loading) {\r\n      return <HomeListingsSkeleton />\r\n    }\r\n    if (data) {\r\n      return <HomeListings title='Premium Listings' listings={data.listings.result} />\r\n    }\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <Content className='home' style={{ backgroundImage: `url(${mapBackground})` }}>\r\n      <HomeHero onSearch={onSearch} />\r\n\r\n      <div className='home__cta-section'>\r\n        <Title className='home__cta-section-title'>\r\n          Your guide for all things rental\r\n        </Title>\r\n        <Paragraph>\r\n          Helping you make the best decisions in renting your last minute locations.\r\n        </Paragraph>\r\n        <Link\r\n          to='/listings/united%20states'\r\n          className='ant-btn ant-btn-primary ant-btn-lg home__cta-section-button'\r\n        >\r\n          Popular cities in the United States\r\n        </Link>\r\n      </div>\r\n\r\n      {renderListingsSection()}\r\n\r\n      <div className='home__listings'>\r\n        <Title level={4} className='home__listings-title'>\r\n          Listings of any kind\r\n        </Title>\r\n        <Row gutter={12}>\r\n          <Col xs={24} sm={12}>\r\n            <Link to='/listings/san%20francisco'>\r\n              <div className='home__listings-img-cover'>\r\n                <img src={sanFranciscoImage} alt='San Francisco' className='home__listings-img' />\r\n              </div>\r\n            </Link>\r\n          </Col>\r\n          <Col xs={24} sm={12}>\r\n            <Link to='/listings/cancun'>\r\n              <div className='home__listings-img-cover'>\r\n                <img src={cancunImage} alt='Cancun' className='home__listings-img' />\r\n              </div>\r\n            </Link>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </Content>\r\n  )\r\n}\r\n","import React, {FormEvent, useState} from \"react\";\r\nimport {Link, Redirect} from 'react-router-dom'\r\nimport {FormComponentProps} from \"antd/lib/form\";\r\nimport {Layout, Typography, Form, Input, InputNumber, Radio, Icon, Upload, Button} from \"antd\";\r\nimport { UploadChangeParam, RcFile } from 'antd/lib/upload'\r\n\r\nimport { HOST_LISTING } from \"../../lib/graphql/mutations\";\r\nimport { HostListing as HostListingData, HostListingVariables } from '../../lib/graphql/mutations/HostListing/__generated__/HostListing';\r\nimport {Viewer} from \"../../lib/types\";\r\nimport {ListingType} from '../../lib/graphql/globalTypes'\r\nimport {displayErrorMessage, displaySuccessNotification, iconColor} from '../../lib/utils'\r\nimport {useMutation} from \"@apollo/client\";\r\nimport { FILE_UPLOAD } from \"../../lib/graphql/mutations/FileUpload\";\r\nimport { FileUpload as FileUploadData, FileUploadVariables } from '../../lib/graphql/mutations/FileUpload/__generated__/FileUpload'\r\nimport {RcCustomRequestOptions, UploadFile} from \"antd/lib/upload/interface\";\r\n\r\nconst {Content} = Layout\r\nconst {Text, Title} = Typography\r\nconst {Item} = Form\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n}\r\n\r\nfunction beforeImageUpload(file: File) {\r\n  const fileIsValidImage = file.type === 'image/jpeg' || file.type === 'image/png'\r\n  const fileIsValidSize = file.size / 1024 / 1024 < 1\r\n\r\n  if (!fileIsValidImage || !fileIsValidSize) {\r\n    displayErrorMessage(\r\n      !fileIsValidImage\r\n        ? \"You're only able to upload valid JPG or PNG files!\"\r\n        : \"You're only able to upload valid image files of under 1MB in size!\"\r\n    )\r\n    return false\r\n  }\r\n  return fileIsValidSize && fileIsValidImage\r\n}\r\n\r\nfunction getBase64Value(img: File | Blob, callback: (value: string) => void) {\r\n  const reader = new FileReader()\r\n  reader.readAsDataURL(img)\r\n  reader.onload = () => {\r\n    callback(reader.result as string)\r\n  }\r\n}\r\n\r\nexport function Host({ viewer, form }: Props & FormComponentProps) {\r\n  const [ hostListing, { data, loading } ] = useMutation<HostListingData, HostListingVariables>(HOST_LISTING, {\r\n    onCompleted: () => {\r\n      displaySuccessNotification(\"You've successfully created your listing!\")\r\n    },\r\n    onError: () => {\r\n      displayErrorMessage(\"Sorry! We weren't able to create your listing. Please try again later\")\r\n    }\r\n  })\r\n  // const [uploadFile, { data: fileData, loading: fileLoading }] = useMutation<FileUploadData, FileUploadVariables>(FILE_UPLOAD)\r\n\r\n\r\n  const [imageLoading, setImageLoading] = useState(false)\r\n  const [imageBaseValue, setImageBaseValue] = useState<string | null>(null)\r\n  const { getFieldDecorator } = form\r\n\r\n  function handleImageUpload(info: UploadChangeParam) {\r\n    const { file } = info\r\n\r\n    if (file.status === 'uploading') {\r\n      return setImageLoading(true)\r\n    }\r\n\r\n    if (file.status === 'done' && file.originFileObj) {\r\n      getBase64Value(file.originFileObj, value => {\r\n        setImageBaseValue(value)\r\n        setImageLoading(false)\r\n      })\r\n    }\r\n  }\r\n\r\n  function handleHostListing(event: FormEvent) {\r\n    event.preventDefault()\r\n    form.validateFields((err, values) => {\r\n      if (err) {\r\n        return displayErrorMessage('Please complete all required fields!')\r\n      }\r\n      const fullAddress = `${values.address}, ${values.city}, ${values.state}, ${values.postalCode}`\r\n\r\n      const input = {\r\n        ...values,\r\n        address: fullAddress,\r\n        image: imageBaseValue,\r\n        price: values.price * 100\r\n      }\r\n      delete input.city\r\n      delete input.state\r\n      delete input.postalCode\r\n\r\n      return hostListing({\r\n        variables: {\r\n          input,\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  const dummyRequest = ({ file, onSuccess }: RcCustomRequestOptions) => {\r\n    setTimeout(() => {\r\n      onSuccess({}, file);\r\n    }, 0);\r\n  }\r\n\r\n  if (!viewer.id || !viewer.hasWallet) {\r\n    return (\r\n      <Content className='host-content'>\r\n        <div className='host__form-header'>\r\n          <Title level={3} className='host__form-title'>\r\n            You'll have to be signed in and connected with Stripe to host a listing!\r\n          </Title>\r\n          <Text type='secondary'>\r\n            We only allow users who've signed in to our application and have connected with Stripe tp host new listings.\r\n            You can sign in at the <Link to='/login'>login</Link> page and connect with Stripe shortly after.\r\n          </Text>\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <Content className='host-content'>\r\n        <div className='host__form-header'>\r\n          <Title level={3} className='host__form-title'>\r\n            Please wait!\r\n          </Title>\r\n          <Text type='secondary'>We're creating your listing now...</Text>\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n\r\n  if (data && data.hostListing) {\r\n    // return <Redirect to={`/listing/${data.hostListing.id}`} />\r\n  }\r\n\r\n  return (\r\n    <Content className='host-content'>\r\n      <Form layout='vertical' onSubmit={handleHostListing}>\r\n        <div className='host__form-header'>\r\n          <Title level={3} className='host__form-title'>\r\n            Hi! Let's get started listing your place.\r\n          </Title>\r\n          <Text type='secondary'>\r\n            In this form, we'll collect some basic and additional information about your listing.\r\n          </Text>\r\n        </div>\r\n\r\n        <Item label='Home type' colon={false}>\r\n          {\r\n            getFieldDecorator('type', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: 'Please select a home type!'\r\n                }\r\n              ]\r\n            })(\r\n              <Radio.Group>\r\n                <Radio.Button value={ListingType.APARTMENT}>\r\n                  <Icon type='bank' style={{color: iconColor}}/> <span>Apartment</span>\r\n                </Radio.Button>\r\n                <Radio.Button value={ListingType.HOUSE}>\r\n                  <Icon type='house' style={{color: iconColor}}/> <span>House</span>\r\n                </Radio.Button>\r\n              </Radio.Group>\r\n            )\r\n          }\r\n        </Item>\r\n\r\n        <Item label='Max number of Guests'>\r\n          {getFieldDecorator('numOfGuests', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: 'Please enter a maximum number of guests!'\r\n              }\r\n            ]\r\n          })(<InputNumber min={1} placeholder='4' />)}\r\n        </Item>\r\n\r\n        <Item label='Title' colon={false} extra='Max character count of 45'>\r\n          {getFieldDecorator('title', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: 'Please enter a title for your listing!'\r\n              }\r\n            ]\r\n          })(<Input maxLength={45} placeholder='The iconic and luxurious Bel-Air mansion'/>)}\r\n        </Item>\r\n\r\n        <Item label='Description of listing' colon={false} extra='Max character count of 400'>\r\n          {getFieldDecorator('description', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: 'Please enter a description for your listing!'\r\n              }\r\n            ]\r\n          })(<Input.TextArea\r\n            rows={3}\r\n            maxLength={400}\r\n            placeholder='Modern, clean,\r\n            and iconic home of the Fresh Prince.\r\n             Situated in the heart of Bel-Air, Los Angeles'\r\n          />)}\r\n        </Item>\r\n\r\n        <Item label='Address' colon={false}>\r\n          {getFieldDecorator('address', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: 'Please enter an address for your listing!'\r\n              }\r\n            ]\r\n          })(<Input placeholder='251 North Bristol Avenue'/>)}\r\n        </Item>\r\n\r\n        <Item label='City/Town' colon={false}>\r\n          {getFieldDecorator('city', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: 'Please enter an city or region for your listing!'\r\n              }\r\n            ]\r\n          })(<Input placeholder='Los Angeles'/>)}\r\n        </Item>\r\n\r\n        <Item label='State/Province' colon={false}>\r\n          {getFieldDecorator('state', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: 'Please enter an state for your listing!'\r\n              }\r\n            ]\r\n          })(<Input placeholder='California'/>)}\r\n        </Item>\r\n\r\n        <Item label='Zip/Postal code' colon={false}>\r\n          {getFieldDecorator('postalCode', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: 'Please enter a zip code for your listing!'\r\n              }\r\n            ]\r\n          })(<Input placeholder='Please enter a zip code for your listing'/>)}\r\n        </Item>\r\n\r\n        <Item label='Image' colon={false} extra='Images have to be under 1MB in size and of type JPG/PNG'>\r\n          <div className='host__form-image-upload'>\r\n            {getFieldDecorator('image', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: 'Please provide an image for your listing!'\r\n                }\r\n              ]\r\n            })(<Upload\r\n              name='image'\r\n              listType='picture-card'\r\n              showUploadList={false}\r\n              customRequest={dummyRequest}\r\n              beforeUpload={beforeImageUpload}\r\n              onChange={handleImageUpload}\r\n            >\r\n              {\r\n                imageBaseValue ? (\r\n                  <img src={imageBaseValue} alt=\"Listing\"/>\r\n                ) : (\r\n                  <div>\r\n                    <Icon type={imageLoading ? 'loading' : 'plus'}/>\r\n                    <div className='ant-upload-text'>Upload</div>\r\n                  </div>\r\n                )\r\n              }\r\n            </Upload>)}\r\n          </div>\r\n        </Item>\r\n\r\n        <Item label='Price' colon={false} extra='All prices in $USD/day'>\r\n          {getFieldDecorator('price', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: 'Please provide a price for your listing!'\r\n              }\r\n            ]\r\n          })(<InputNumber min={0} placeholder='120'/>)}\r\n        </Item>\r\n\r\n        <Item>\r\n          <Button type='primary' htmlType='submit'>Submit</Button>\r\n        </Item>\r\n      </Form>\r\n    </Content>\r\n  )\r\n}\r\n\r\nexport const WrappedHost = Form.create<Props & FormComponentProps>({\r\n  name: 'host_form'\r\n})(Host)\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Avatar, Divider, Icon, Tag, Typography } from \"antd\";\r\nimport { Listing as ListingData } from '../../../../lib/graphql/queries/Listing/__generated__/Listing'\r\nimport { iconColor } from \"../../../../lib/utils\";\r\n\r\ninterface Props {\r\n  listing: ListingData['listing'];\r\n}\r\n\r\nconst { Paragraph, Title } = Typography\r\n\r\nexport function ListingDetails({ listing }: Props) {\r\n  const { title, description, image, type, address, city, numOfGuests, host } = listing\r\n\r\n  return (\r\n    <div className='listing-details'>\r\n      <div style={{ backgroundImage: `url(${image})` }} className='listing-details__image' />\r\n        <div className='listing-details__information'>\r\n          <Paragraph type='secondary' ellipsis className='listing-details__city-address'>\r\n            <Link to={`/listings/${city}`}>\r\n              <Icon type='environment' style={{ color: iconColor }} /> {city}\r\n            </Link>\r\n            <Divider type='vertical' />\r\n            {address}\r\n          </Paragraph>\r\n          <Title level={3} className='listing-details__title'>\r\n            {title}\r\n          </Title>\r\n        </div>\r\n      <Divider />\r\n\r\n      <div className='listing-details__section'>\r\n        <Link to={`/user/${host.id}`}>\r\n          <Avatar src={host.avatar} size={64} />\r\n          <Title level={2} className='listing-details__host-name'>\r\n            {host.name}\r\n          </Title>\r\n        </Link>\r\n      </div>\r\n\r\n      <Divider />\r\n\r\n      <div className='listing-details__section'>\r\n        <Title level={4}>About this space</Title>\r\n        <div className='listing-details__about-items'>\r\n          <Tag color='magenta'>{type}</Tag>\r\n          <Tag color='magenta'>{numOfGuests} Guests</Tag>\r\n        </div>\r\n        <Paragraph ellipsis={{ rows: 3, expandable: true }}>\r\n          {description}\r\n        </Paragraph>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Avatar, Divider, List, Typography } from \"antd\";\r\nimport { Listing } from '../../../../lib/graphql/queries/Listing/__generated__/Listing'\r\n\r\ninterface Props {\r\n  listingBookings: Listing['listing']['bookings']\r\n  bookingsPage: number\r\n  limit: number\r\n  setBookingsPage: (page: number) => void\r\n}\r\n\r\nconst { Title, Text } = Typography\r\n\r\nexport function ListingBookings({ listingBookings, bookingsPage, limit, setBookingsPage }: Props) {\r\n  const total = listingBookings ? listingBookings.total : null\r\n  const result = listingBookings ? listingBookings.result : null\r\n\r\n  return listingBookings ? (\r\n    <div className='listing-bookings'>\r\n      <Divider />\r\n      <Title className='listing-bookings__title'>\r\n        Bookings\r\n      </Title>\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          lg: 3\r\n        }}\r\n        dataSource={result || undefined}\r\n        locale={{ emptyText: `No bookings have been made yet!` }}\r\n        pagination={{\r\n          current: bookingsPage,\r\n          total: total || undefined,\r\n          defaultPageSize: limit,\r\n          hideOnSinglePage: true,\r\n          showLessItems: true,\r\n          onChange: (page) => setBookingsPage(page)\r\n        }}\r\n        renderItem={listingBookings => {\r\n          return (\r\n            <List.Item>\r\n              <div className=\"listing-bookings__booking-history\">\r\n                <div>\r\n                  Check in: <Text strong>{listingBookings.checkIn}</Text>\r\n                </div>\r\n                <div>\r\n                  Check out: <Text strong>{listingBookings.checkOut}</Text>\r\n                </div>\r\n              </div>\r\n              <Link to={`/user/${listingBookings.tenant.id}`}>\r\n                <Avatar\r\n                  src={listingBookings.tenant.avatar}\r\n                  size={64}\r\n                  shape='square'\r\n                />\r\n              </Link>\r\n            </List.Item>\r\n          )\r\n        }}\r\n      />\r\n    </div>\r\n  ) : null\r\n}","import React from \"react\";\r\nimport {Button, Card, DatePicker, Divider, Typography} from 'antd'\r\nimport moment, {Moment} from \"moment\";\r\nimport { Listing as ListingData } from \"../../../../lib/graphql/queries/Listing/__generated__/Listing\";\r\nimport {displayErrorMessage, formatListingPrice} from \"../../../../lib/utils\";\r\nimport {Viewer} from \"../../../../lib/types\";\r\nimport {BookingsIndex} from \"./types\";\r\n\r\nconst { Paragraph, Title, Text } = Typography\r\n\r\ninterface Props {\r\n  price: number;\r\n  checkInDate: Moment | null;\r\n  checkOutDate: Moment | null;\r\n  setCheckInDate: (date: Moment | null) => void\r\n  setCheckOutDate: (date: Moment | null) => void;\r\n  viewer: Viewer;\r\n  host: ListingData['listing']['host'];\r\n  bookingsIndex: ListingData['listing']['bookingsIndex'];\r\n  setModalVisible: (modalVisible: boolean) => void;\r\n}\r\n\r\nexport function ListingCreateBooking(\r\n  {\r\n    price,\r\n    host,\r\n    checkInDate,\r\n    checkOutDate,\r\n    setCheckInDate,\r\n    setCheckOutDate,\r\n    viewer,\r\n    bookingsIndex,\r\n    setModalVisible,\r\n  }: Props\r\n) {\r\n  const bookingsIndexJSON: BookingsIndex = JSON.parse(bookingsIndex)\r\n  function disableDate(currentDate?: Moment | null) {\r\n    if (currentDate) {\r\n      return currentDate.isBefore(moment().endOf('day')) || dateIsBooked(currentDate)\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  function dateIsBooked(currentDate: Moment) {\r\n    const year = moment(currentDate).year(),\r\n      month = moment(currentDate).month(),\r\n      day = moment(currentDate).date()\r\n\r\n    if (bookingsIndexJSON[year] && bookingsIndexJSON[year][month]) {\r\n      return Boolean(bookingsIndexJSON[year][month][day])\r\n    } else return false\r\n  }\r\n\r\n  function verifyAndSetOutDate(date: Moment | null) {\r\n    if (checkInDate && date) {\r\n      if (moment(date).isBefore(checkInDate, 'days')) {\r\n        return displayErrorMessage(`You cant book date of check out to be prior to check in!`)\r\n      }\r\n      let dateCursor = checkInDate\r\n      while (moment(dateCursor).isBefore(date, 'days')) {\r\n        dateCursor = moment(dateCursor).add(1, 'days')\r\n        const year = moment(dateCursor).year(),\r\n          month = moment(dateCursor).month(),\r\n          day = moment(dateCursor).date()\r\n\r\n        if (bookingsIndexJSON[year] && bookingsIndexJSON[year][month] && bookingsIndexJSON[year][month][day]) {\r\n          displayErrorMessage(\r\n            \"You can't book a period of time that overlaps existing bookings! Please choose other dates.\"\r\n          )\r\n        }\r\n      }\r\n    }\r\n\r\n    setCheckOutDate(date)\r\n  }\r\n\r\n  const viewerIsHost = viewer.id === host.id\r\n  const checkInInputDisabled = !viewer.id || viewerIsHost\r\n  const checkOutDisabled = checkInInputDisabled || !checkInDate\r\n  const buttonDisabled = checkInInputDisabled || !checkInDate || !checkOutDate\r\n\r\n  return (\r\n    <div className='listing-booking'>\r\n      <Card className='listing-booking__card'>\r\n        <div>\r\n          <Paragraph>\r\n            <Title level={2} className='listing-booking__card-title'>\r\n              {formatListingPrice(price)}\r\n              <span>/day</span>\r\n            </Title>\r\n          </Paragraph>\r\n\r\n          {\r\n            !viewerIsHost ? (\r\n              <>\r\n                <Divider />\r\n                <div className='listing-booking__card-date-picker'>\r\n                  <Paragraph strong>Check in</Paragraph>\r\n                  <DatePicker\r\n                    value={checkInDate || undefined}\r\n                    onChange={setCheckInDate}\r\n                    format='YYYY/MM/DD'\r\n                    disabled={checkInInputDisabled}\r\n                    disabledDate={disableDate}\r\n                    showToday={false}\r\n                    onOpenChange={() => setCheckOutDate(null)}\r\n                  />\r\n                </div>\r\n                <div className='listing-booking__card-date-picker'>\r\n                  <Paragraph strong>Check out</Paragraph>\r\n                  <DatePicker\r\n                    value={checkOutDate || undefined}\r\n                    onChange={verifyAndSetOutDate}\r\n                    format='YYYY/MM/DD'\r\n                    disabledDate={disableDate}\r\n                    disabled={checkOutDisabled}\r\n                    showToday={false}\r\n                  />\r\n                </div>\r\n              </>\r\n            ) : null\r\n          }\r\n        </div>\r\n\r\n        {\r\n          !viewerIsHost ? (\r\n            <>\r\n              <Divider />\r\n              <Button\r\n                disabled={buttonDisabled}\r\n                size='large'\r\n                type='primary'\r\n                className='listing-booking__card-cta'\r\n                onClick={() => setModalVisible(true)}\r\n              >\r\n                Request to book!\r\n              </Button>\r\n              <Text type='secondary' mark>\r\n                {\r\n                  !viewer.id\r\n                    ? 'You have to be signed in to book a listing!'\r\n                    : !host.hasWallet\r\n                      ? 'The host has disconnected from Stripe and thus wont be able to receive payments!'\r\n                      : \"You won't be charged yet\"\r\n                }\r\n              </Text>\r\n            </>\r\n          ) : null\r\n        }\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { Modal, Button, Divider, Icon, Typography } from \"antd\";\r\nimport { injectStripe, CardElement, ReactStripeElements } from \"react-stripe-elements\";\r\nimport moment, {Moment} from \"moment\";\r\nimport { CreateBooking as CreateBookingData, CreateBookingVariables } from '../../../../lib/graphql/mutations/CreateBooking/__generated__/CreateBooking'\r\nimport {displayErrorMessage, displaySuccessNotification, formatListingPrice} from \"../../../../lib/utils\";\r\nimport {useMutation} from \"@apollo/client\";\r\nimport {CREATE_BOOKING} from \"../../../../lib/graphql/mutations\";\r\n\r\ninterface Props {\r\n  modalVisible: boolean;\r\n  setModalVisible: (modalVisible: boolean) => void;\r\n  price: number;\r\n  checkInDate: Moment;\r\n  checkOutDate: Moment;\r\n  id: string;\r\n  clearBookingData: () => void;\r\n  handleRefetchListing: () => Promise<void>;\r\n}\r\n\r\nconst { Title, Text, Paragraph } = Typography\r\n\r\nexport function ListingCreateBookingModal(\r\n  {\r\n    modalVisible,\r\n    setModalVisible,\r\n    checkOutDate,\r\n    checkInDate,\r\n    price,\r\n    stripe,\r\n    id,\r\n    clearBookingData,\r\n    handleRefetchListing,\r\n  }: Props & ReactStripeElements.InjectedStripeProps\r\n) {\r\n  const [createBooking, { loading }] = useMutation<CreateBookingData, CreateBookingVariables>(CREATE_BOOKING, {\r\n    onCompleted: () => {\r\n      clearBookingData()\r\n      displaySuccessNotification(\r\n        \"You've successfully booked the listing!\",\r\n        'Booking history can always be found in your page.'\r\n      )\r\n      handleRefetchListing()\r\n    },\r\n    onError: () => {\r\n      displayErrorMessage(\"Sorry! We weren't able to book the listing.\")\r\n    },\r\n  })\r\n  const daysBooked = checkOutDate.diff(checkInDate, 'days') + 1\r\n  const listingPrice = price * daysBooked\r\n\r\n  async function handleCreateBooking() {\r\n    if (!stripe) {\r\n      return displayErrorMessage(\"Sorry! We weren't able to connect with Stripe.\")\r\n    }\r\n\r\n    let { token: stripeToken, error } = await stripe.createToken()\r\n    if (stripeToken) {\r\n      createBooking({\r\n        variables: {\r\n          input: {\r\n            id,\r\n            source: stripeToken.id,\r\n            checkIn: moment(checkInDate).format('YYYY-MM-DD'),\r\n            checkOut: moment(checkOutDate).format('YYYY-MM-DD')\r\n          }\r\n        }\r\n      })\r\n    } else {\r\n      displayErrorMessage(error && error.message ? error.message : \"Sorry! We weren't able to book the listing.\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      visible={modalVisible}\r\n      centered\r\n      footer={null}\r\n      onCancel={() => setModalVisible(false)}\r\n    >\r\n      <div className=\"listing-booking-modal\">\r\n        <div className=\"listing-booking-modal__intro\">\r\n          <Title className='listing-booking-modal__intro-title'>\r\n            <Icon type='key'/>\r\n          </Title>\r\n          <Title className='listing-booking-modal__intro-title'>\r\n            Book your trip\r\n          </Title>\r\n          <Paragraph>\r\n            Enter your payment information to book the listing from the dates between{' '}\r\n            <Text mark strong>\r\n              {moment(checkInDate).format('MMMM Do YYYY')}\r\n            </Text>{' '}\r\n            and{' '}\r\n            <Text mark strong>\r\n              {moment(checkOutDate).format('MMMM Do YYYY')}\r\n            </Text>\r\n            , inclusive.\r\n          </Paragraph>\r\n        </div>\r\n\r\n        <Divider />\r\n\r\n        <div className='listing-booking-modal__charge-summary'>\r\n          <Paragraph>\r\n            {formatListingPrice(price, false)} * {daysBooked} days ={' '}\r\n            <Text strong>{formatListingPrice(listingPrice, false)}</Text>\r\n          </Paragraph>\r\n          <Paragraph className='listing-booking-modal__charge-summary-total'>\r\n            Total = <Text mark>{formatListingPrice(listingPrice, false)}</Text>\r\n          </Paragraph>\r\n        </div>\r\n\r\n        <Divider />\r\n\r\n        <div className='listing-booking-modal__stripe-card-section'>\r\n          <CardElement hidePostalCode className='listing-booking-modal__stripe-card' />\r\n          <Button\r\n            size='large'\r\n            type='primary'\r\n            className='listing-booking-modal__cta'\r\n            onClick={handleCreateBooking}\r\n            loading={loading}\r\n          >\r\n            Book\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport const WrappedCreateBookingModal = injectStripe(ListingCreateBookingModal)\r\n","import React, { useState } from \"react\";\r\nimport {RouteComponentProps} from \"react-router-dom\";\r\nimport {useQuery} from \"@apollo/client\";\r\nimport { Listing as ListingData, ListingVariables } from \"../../lib/graphql/queries/Listing/__generated__/Listing\";\r\nimport {LISTING} from \"../../lib/graphql/queries\";\r\nimport {Col, Layout, Row} from \"antd\";\r\nimport {ErrorBanner, PageSkeleton} from \"../../lib/components\";\r\nimport {\r\n  ListingBookings,\r\n  ListingCreateBooking,\r\n  WrappedCreateBookingModal as ListingCreateBookingModal,\r\n  ListingDetails,\r\n} from \"./components\";\r\nimport {Moment} from \"moment\";\r\nimport {Viewer} from \"../../lib/types\";\r\n\r\ninterface matchParams {\r\n  id: string;\r\n}\r\ninterface Props {\r\n  viewer: Viewer;\r\n}\r\n\r\nconst PAGE_LIMIT = 3\r\n\r\nconst { Content } = Layout\r\n\r\nexport function Listing({ match, viewer }: Props & RouteComponentProps<matchParams>) {\r\n  const [bookingsPage, setBookingsPage] = useState(1)\r\n  const [checkInDate, setCheckInDate] = useState<Moment | null>(null)\r\n  const [checkOutDate, setCheckOutDate] = useState<Moment | null>(null)\r\n  const [modalVisible, setModalVisible] = useState(false)\r\n\r\n  const { loading, data, error, refetch } = useQuery<ListingData, ListingVariables>(LISTING, {\r\n    variables: {\r\n      id: match.params.id,\r\n      bookingsPage,\r\n      limit: PAGE_LIMIT,\r\n    }\r\n  })\r\n\r\n  function clearBookingData() {\r\n    setModalVisible(false)\r\n    setCheckInDate(null)\r\n    setCheckOutDate(null)\r\n  }\r\n\r\n  async function handleRefetchListing() {\r\n    await refetch()\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <Content className='listings'>\r\n        <PageSkeleton />\r\n      </Content>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Content>\r\n        <ErrorBanner description='This listing may not exist or weve encountered an error. Please try again later!' />\r\n        <PageSkeleton />\r\n      </Content>\r\n    )\r\n  }\r\n\r\n  const listing = data ? data.listing : null\r\n  const listingBookings = listing ? listing.bookings : null\r\n\r\n  const listingDetailsElement = listing ? <ListingDetails listing={listing} /> : null\r\n\r\n  const listingCreateBookingElement = listing ?\r\n    <ListingCreateBooking\r\n      viewer={viewer}\r\n      host={listing.host}\r\n      bookingsIndex={listing.bookingsIndex}\r\n      price={listing.price}\r\n      checkInDate={checkInDate}\r\n      setCheckInDate={setCheckInDate}\r\n      checkOutDate={checkOutDate}\r\n      setCheckOutDate={setCheckOutDate}\r\n      setModalVisible={setModalVisible}\r\n    /> :\r\n    null\r\n\r\n  const listingBookingsElement = listing ?\r\n    <ListingBookings\r\n      listingBookings={listingBookings}\r\n      bookingsPage={bookingsPage}\r\n      limit={PAGE_LIMIT}\r\n      setBookingsPage={setBookingsPage}\r\n    /> : null\r\n\r\n  return (\r\n    <Content className='listing'>\r\n      <Row gutter={24} type='flex' justify='space-between'>\r\n        <Col xs={24} lg={14}>\r\n          {listingDetailsElement}\r\n          {listingBookingsElement}\r\n        </Col>\r\n        <Col xs={24} lg={10}>\r\n          {listingCreateBookingElement}\r\n        </Col>\r\n      </Row>\r\n      {\r\n        listing && checkInDate && checkOutDate ? (\r\n          <ListingCreateBookingModal\r\n            id={listing.id}\r\n            clearBookingData={clearBookingData}\r\n            handleRefetchListing={handleRefetchListing}\r\n            modalVisible={modalVisible}\r\n            setModalVisible={setModalVisible}\r\n            price={listing.price}\r\n            checkInDate={checkInDate}\r\n            checkOutDate={checkOutDate}\r\n          />\r\n        ) : null\r\n      }\r\n\r\n    </Content>\r\n  )\r\n}\r\n","import React from \"react\";\r\n\r\nexport function NotFound() {\r\n  return <h1>Not Found</h1>\r\n}\r\n","import React from \"react\";\r\nimport { Avatar, Button, Card, Divider, Typography, Tag } from \"antd\";\r\nimport { User as UserData } from '../../../../lib/graphql/queries/User/__generated__/User'\r\nimport {displayErrorMessage, displaySuccessNotification, formatListingPrice} from \"../../../../lib/utils\";\r\nimport {useMutation} from \"@apollo/client\";\r\nimport {DISCONNECT_STRIPE} from \"../../../../lib/graphql/mutations\";\r\nimport { DisconnectStripe as DisconnectStripeData } from \"../../../../lib/graphql/mutations/DisconnectStripe/__generated__/DisconnectStripe\";\r\nimport {Viewer} from \"../../../../lib/types\";\r\n\r\ninterface Props {\r\n  user: UserData['user'],\r\n  viewer: Viewer,\r\n  setViewer: (viewer: Viewer) => void,\r\n  viewerIsUser: boolean,\r\n  handleUserRefetch: () => void\r\n}\r\n\r\nconst { Paragraph, Text, Title } = Typography\r\n\r\nconst stripeAuthUrl = `https://connect.stripe.com/oauth/authorize?response_type=code&client_id=${process.env.REACT_APP_S_CLIENT_ID}&scope=read_write`\r\n\r\nexport function UserProfile({ user, viewerIsUser, viewer, setViewer, handleUserRefetch }: Props) {\r\n  const [disconnectStripe, { loading }] = useMutation<DisconnectStripeData>(DISCONNECT_STRIPE, {\r\n    onCompleted: data => {\r\n      if (data && data.disconnectStripe) {\r\n        setViewer({ ...viewer, hasWallet: data.disconnectStripe.hasWallet })\r\n        displaySuccessNotification(\r\n          \"You've successfully disconnected from Stripe!\",\r\n          \"You'll have to reconnect with Stripe to continue to create listings.\"\r\n        )\r\n        handleUserRefetch()\r\n      }\r\n    },\r\n    onError: error => {\r\n      displayErrorMessage(\"Sorry! We weren't able to disconnect you from Stripe. Please try again later!\")\r\n    }\r\n  })\r\n\r\n\r\n  function redirectToStripe() {\r\n    window.location.href = stripeAuthUrl\r\n  }\r\n\r\n  const additionalDetailsSection = viewerIsUser ? (\r\n    <>\r\n      <Divider />\r\n      <div className=\"user-profile__details\">\r\n        <Title level={4}>Additional details</Title>\r\n        {\r\n          user.hasWallet ? (\r\n            <>\r\n              <Paragraph>\r\n                <Tag color='green'>Stripe Registered</Tag>\r\n              </Paragraph>\r\n              <Paragraph>\r\n                Income Earned:{' '}\r\n                <Text strong>{user.income ? formatListingPrice(user.income) : '$0'}</Text>\r\n              </Paragraph>\r\n              <Button\r\n                type='primary'\r\n                className='user-profile__details-cta'\r\n                loading={loading}\r\n                onClick={() => disconnectStripe()}\r\n              >\r\n                Disconnect Stripe\r\n              </Button>\r\n              <Paragraph>\r\n                By disconnecting, you won't be able to receive{' '}\r\n                <Text strong>any further payments</Text>. This will prevent users from booking\r\n                listings that you might have already created.\r\n              </Paragraph>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Paragraph>\r\n                Interested in becoming a TinyHouse host? Register with your Stripe account!\r\n              </Paragraph>\r\n              <Button type='primary' className='user-profile__details-cta' onClick={redirectToStripe}>\r\n                Connect with Stripe\r\n              </Button>\r\n              <Paragraph>\r\n                TinyHouse uses {' '}\r\n                <a\r\n                  href=\"https://stripe.com/en-US/connect\"\r\n                  target='_blank'\r\n                  rel='noopener noreferrer'\r\n                >\r\n                  Stripe\r\n                </a>{' '}\r\n                to help transfer your earnings in a secure and trusted manner.\r\n              </Paragraph>\r\n            </>\r\n          )\r\n        }\r\n      </div>\r\n    </>\r\n  ) : null\r\n\r\n  return (\r\n    <div className='user-profile'>\r\n      <Card className='user-profile__card'>\r\n        <div className=\"user-profile__avatar\">\r\n          <Avatar size={100} src={user.avatar} />\r\n        </div>\r\n        <Divider />\r\n        <div className=\"user-profile__details\">\r\n          <Title level={4}>\r\n            Details\r\n          </Title>\r\n          <Paragraph>\r\n            Name: <Text strong>{user.name}</Text>\r\n          </Paragraph>\r\n          <Paragraph>\r\n            Contact: <Text strong>{user.contact}</Text>\r\n          </Paragraph>\r\n        </div>\r\n        {additionalDetailsSection}\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { List, Typography } from \"antd\";\r\nimport { ListingCard } from '../../../../lib/components'\r\nimport { User } from '../../../../lib/graphql/queries/User/__generated__/User'\r\n\r\ninterface Props {\r\n  userBookings: User['user']['bookings']\r\n  bookingsPage: number\r\n  limit: number\r\n  setBookingsPage: (page: number) => void\r\n}\r\n\r\nconst { Paragraph, Title, Text } = Typography\r\n\r\nexport function UserBookings({ userBookings, bookingsPage, limit, setBookingsPage }: Props) {\r\n  const total = userBookings ? userBookings.total : null\r\n  const result = userBookings ? userBookings.result : null\r\n\r\n  return userBookings ? (\r\n    <div className='user-bookings'>\r\n      <Title className='user-bookings__title'>\r\n        Bookings\r\n      </Title>\r\n      <Paragraph className='user-bookings__description'>\r\n        This section highlights the bookings you've made, and the check-in/check-out dates.\r\n      </Paragraph>\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          lg: 4\r\n        }}\r\n        dataSource={result || undefined}\r\n        locale={{ emptyText: `You haven't made any bookings!` }}\r\n        pagination={{\r\n          position: 'top',\r\n          current: bookingsPage,\r\n          total: total || undefined,\r\n          defaultPageSize: limit,\r\n          hideOnSinglePage: true,\r\n          showLessItems: true,\r\n          onChange: (page) => setBookingsPage(page)\r\n        }}\r\n        renderItem={userBookings => {\r\n          return (\r\n            <List.Item>\r\n              <div className=\"user-bookings__booking-history\">\r\n                <div>\r\n                  Check in: <Text strong>{userBookings.checkIn}</Text>\r\n                </div>\r\n                <div>\r\n                  Check out: <Text strong>{userBookings.checkOut}</Text>\r\n                </div>\r\n              </div>\r\n              <ListingCard listing={userBookings.listing} />\r\n            </List.Item>\r\n          )\r\n        }}\r\n      />\r\n    </div>\r\n  ) : null\r\n}","import React from \"react\";\r\nimport { List, Typography } from \"antd\";\r\nimport { ListingCard } from '../../../../lib/components'\r\nimport { User } from '../../../../lib/graphql/queries/User/__generated__/User'\r\n\r\ninterface Props {\r\n  userListings: User['user']['listings']\r\n  listingsPage: number\r\n  limit: number\r\n  setListingsPage: (page: number) => void\r\n}\r\n\r\nconst { Paragraph, Title } = Typography\r\n\r\nexport function UserListings({ userListings, listingsPage, limit, setListingsPage }: Props) {\r\n  const total = userListings ? userListings.total : null\r\n  const result = userListings ? userListings.result : null\r\n\r\n  return (\r\n    <div className='user-listings'>\r\n      <Title className='user-listings__title'>\r\n        Listings\r\n      </Title>\r\n      <Paragraph className='user-listings__description'>\r\n        This section highlights the listings this user currently hosts and has made available for bookings.\r\n      </Paragraph>\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          lg: 4\r\n        }}\r\n        dataSource={result || undefined}\r\n        locale={{ emptyText: `User doesn't have any listings yet!` }}\r\n        pagination={{\r\n          position: 'top',\r\n          current: listingsPage,\r\n          total: total || undefined,\r\n          defaultPageSize: limit,\r\n          hideOnSinglePage: true,\r\n          showLessItems: true,\r\n          onChange: (page) => setListingsPage(page)\r\n        }}\r\n        renderItem={userListings => (\r\n          <List.Item>\r\n            <ListingCard listing={userListings} />\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </div>\r\n  )\r\n}","import React, {useState} from \"react\"\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { Layout, Row, Col } from \"antd\";\r\nimport { USER } from '../../lib/graphql/queries'\r\nimport {\r\n  User as UserData,\r\n  UserVariables\r\n} from \"../../lib/graphql/queries/User/__generated__/User\";\r\nimport { Viewer } from '../../lib/types'\r\nimport { PageSkeleton, ErrorBanner } from \"../../lib/components\";\r\nimport {UserProfile, UserListings, UserBookings} from \"./components\";\r\n\r\ninterface MatchParams {\r\n  id: string,\r\n}\r\n\r\ninterface Props {\r\n  viewer: Viewer,\r\n  setViewer: (viewer: Viewer) => void,\r\n}\r\n\r\nconst { Content } = Layout\r\nconst PAGE_LIMIT = 4\r\n\r\nexport function User({ match, viewer, setViewer }: RouteComponentProps<MatchParams> & Props ) {\r\n  const [listingsPage, setListingsPage] = useState(1)\r\n  const [bookingsPage, setBookingsPage] = useState(1)\r\n\r\n  const { data, loading, error, refetch } = useQuery<UserData, UserVariables>(USER, {\r\n    variables: {\r\n      id: match.params.id,\r\n      bookingsPage,\r\n      listingsPage,\r\n      limit: PAGE_LIMIT,\r\n    }\r\n  })\r\n\r\n  async function handleUserRefetch() {\r\n    await refetch()\r\n  }\r\n\r\n  const stripeError = new URL(window.location.href).searchParams.get('stripe_error')\r\n    ? <ErrorBanner description='We had an issue connecting with Stripe. Please try again soon.' />\r\n    : null\r\n\r\n  if (loading) {\r\n    return (\r\n      <Content className='user'>\r\n        <PageSkeleton />\r\n      </Content>\r\n    )\r\n  }\r\n  if (error) {\r\n    return (\r\n      <Content className='user'>\r\n        <ErrorBanner description='This user may not exist or there is an error' />\r\n        <PageSkeleton />\r\n      </Content>\r\n    )\r\n  }\r\n\r\n  const user = data ? data.user : null\r\n  const viewerIsUser = match.params.id === viewer.id\r\n\r\n  const userListings = user ? user.listings : null\r\n  const userBookings = user ? user.bookings : null\r\n\r\n  const userListingsElement = userListings ? (\r\n    <UserListings\r\n      userListings={userListings}\r\n      listingsPage={listingsPage}\r\n      limit={PAGE_LIMIT}\r\n      setListingsPage={setListingsPage}\r\n    />\r\n  ) : null\r\n\r\n  const userBookingsElement = userBookings ? (\r\n    <UserBookings\r\n      userBookings={userBookings}\r\n      bookingsPage={bookingsPage}\r\n      limit={PAGE_LIMIT}\r\n      setBookingsPage={setBookingsPage}\r\n    />\r\n  ) : null\r\n\r\n  return (\r\n    <Content className='user'>\r\n      {stripeError}\r\n      <Row type='flex' gutter={12} justify='space-between'>\r\n        <Col xs={24}>\r\n          {\r\n            user ? (\r\n              <UserProfile\r\n                user={user}\r\n                viewerIsUser={viewerIsUser}\r\n                viewer={viewer}\r\n                setViewer={setViewer}\r\n                handleUserRefetch={handleUserRefetch}\r\n              />\r\n            ) : null\r\n          }\r\n        </Col>\r\n        <Col xs={24}>\r\n          {userListingsElement}\r\n        </Col>\r\n        <Col xs={24}>\r\n          {userBookingsElement}\r\n        </Col>\r\n      </Row>\r\n    </Content>\r\n  )\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { useApolloClient, useMutation } from \"@apollo/client\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Card, Layout, Typography, Spin } from \"antd\";\r\n\r\nimport { Viewer } from \"../../lib/types\";\r\nimport { ErrorBanner } from \"../../lib/components\";\r\nimport { displaySuccessNotification, displayErrorMessage } from \"../../lib/utils\";\r\nimport { AUTH_URL } from \"../../lib/graphql/queries\";\r\nimport { LOG_IN } from \"../../lib/graphql/mutations\";\r\nimport { AuthUrl as AuthUrlData } from \"../../lib/graphql/queries/AuthUrl/__generated__/AuthUrl\";\r\nimport { LogIn as LogInData, LogInVariables } from \"../../lib/graphql/mutations/LogIn/__generated__/LogIn\";\r\n\r\nimport googleLogo from '../../assets/google.png'\r\n\r\nconst { Content } = Layout\r\nconst { Text, Title } = Typography\r\n\r\ninterface Props {\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nexport function Login({ setViewer }: Props) {\r\n  const client = useApolloClient()\r\n  const [logIn, { data: logInData, loading: logInLoading, error: logInError }] = useMutation<LogInData, LogInVariables>(LOG_IN, {\r\n    onCompleted: data => {\r\n      if (data && data.logIn && data.logIn.token) {\r\n        setViewer(data.logIn)\r\n        sessionStorage.setItem('token', data.logIn.token)\r\n        displaySuccessNotification(\"You've successfully logged in!\")\r\n      }\r\n    }\r\n  })\r\n  const logInRef = useRef(logIn)\r\n\r\n  useEffect(() => {\r\n    const code = new URL(window.location.href).searchParams.get('code')\r\n    if (code) {\r\n      logInRef.current({\r\n        variables: {\r\n          input: { code }\r\n        }\r\n      })\r\n    }\r\n  }, [])\r\n\r\n  async function handleAuthorize() {\r\n    try {\r\n       const { data } = await client.query<AuthUrlData>({\r\n         query: AUTH_URL\r\n       })\r\n      window.location.href = data.authUrl\r\n    } catch (error) {\r\n      displayErrorMessage(\"Sorry! We weren't able to log you in. Please try again later!\")\r\n    }\r\n  }\r\n\r\n  if (logInLoading) {\r\n    return (\r\n      <Content className='log-in'>\r\n        <Spin size='large' tip='Logging you in...' />\r\n      </Content>\r\n    )\r\n  }\r\n\r\n  if (logInData && logInData.logIn) {\r\n    const { id: viewerId } = logInData.logIn\r\n    return <Redirect to={`/user/${viewerId}`} />\r\n  }\r\n\r\n  return (\r\n    <Content className='log-in'>\r\n      {\r\n        logInError ? (\r\n          <ErrorBanner description=\"Sorry! We weren't able to log you in. Please try again later!\" />\r\n        ) : null\r\n      }\r\n      <Card className='log-in-card'>\r\n        <div className=\"log-in-card__intro\">\r\n          <Title level={3} className='log-in-card__intro-title'>\r\n            <span role='img' aria-label='wave'>&#128075;</span>\r\n          </Title>\r\n          <Title level={3} className='log-in-card__intro-title'>\r\n            Log in to TinyHouse!\r\n          </Title>\r\n          <Text>Sign in with Google to start booking available rentals!</Text>\r\n        </div>\r\n        <button className='log-in-card__google-button' onClick={handleAuthorize}>\r\n          <img src={googleLogo} alt=\"Google logo\" className='log-in-card__google-button-logo'/>\r\n          <span className='log-in-card__google-button-text'>Sign in with Google</span>\r\n        </button>\r\n        <Text type='secondary'>\r\n          Note: By signing in, you will be redirected to the Google consent form to sign in with your Google account.\r\n        </Text>\r\n      </Card>\r\n    </Content>\r\n  )\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { render } from \"react-dom\";\n// import ApolloClient from \"apollo-boost\"\nimport {\n  ApolloProvider,\n  Operation,\n  ApolloClient,\n  HttpLink,\n  ApolloLink,\n  InMemoryCache,\n  from,\n  useMutation,\n  NextLink,\n  Observable,\n  FetchResult,\n} from '@apollo/client'\nimport { setContext } from \"@apollo/client/link/context\"\nimport { createUploadLink } from 'apollo-upload-client'\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport {Layout, Affix, Spin} from \"antd\";\nimport {\n  Home,\n  WrappedHost,\n  Listing,\n  Listings,\n  NotFound,\n  Login,\n  User,\n  AppHeader,\n  Stripe,\n} from './sections'\n// import { ApolloProvider, useMutation } from \"@apollo/react-hooks\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"./styles/index.css\";\nimport { Viewer } from './lib/types'\nimport { LOG_IN } from \"./lib/graphql/mutations\";\nimport {LogIn as LogInData, LogInVariables} from \"./lib/graphql/mutations/LogIn/__generated__/LogIn\";\nimport {AppHeaderSkeleton, ErrorBanner} from \"./lib/components\";\nimport {Elements, StripeProvider} from \"react-stripe-elements\";\n\n\nconst uploadLink = createUploadLink({ uri: '/api' });\nconst httpLink = new HttpLink({ uri: '/api' })\n\n// const client = new ApolloClient({\n//   uri: \"/api\",\n//   request: async operation => {\n//     const token = sessionStorage.getItem('token')\n//     operation.setContext({\n//       headers: {\n//         'X-CSRF-TOKEN': token || '',\n//       },\n//     })\n//   }\n// })\n\n// class OperationAuthLink extends ApolloLink {\n//   constructor() {\n//     super();\n//   }\n//   request(operation: Operation, forward: NextLink): Observable<FetchResult> | null {\n//     console.log('token', sessionStorage.getItem('token'))\n//     const tokenFromResp = operation.getContext()\n//     console.log('tokenFromResp', tokenFromResp)\n//     const token = sessionStorage.getItem('token')\n//     operation.setContext({\n//       headers: {\n//         'x-csrf-token': token || '',\n//       },\n//     })\n//     return forward(operation)\n//   }\n// }\n\n// const authMiddleware = new ApolloLink((operation, forward) => {\n//   // add the authorization to the headers\n//   const token = sessionStorage.getItem('token')\n//   console.log('myToken', operation.getContext())\n//   operation.setContext(({ headers = {} }) => ({\n//     headers: {\n//       ...headers,\n//       'x-csrf-token': token || '',\n//     },\n//   }))\n//\n//   return forward(operation);\n// })\n\nconst setAuthorizationLink = setContext((request, previousContext) => {\n  const token = sessionStorage.getItem('token')\n  return {\n    headers: {\n      'x-csrf-token': token || '',\n    }\n  }\n})\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: ApolloLink.from([setAuthorizationLink, uploadLink]),\n  connectToDevTools: true,\n})\n\nconst initialViewer: Viewer = {\n  id: null,\n  token: null,\n  avatar: null,\n  hasWallet: null,\n  didRequest: false,\n}\n\nfunction App() {\n  const [viewer, setViewer] = useState<Viewer>(initialViewer)\n  const [logIn, { error }] = useMutation<LogInData, LogInVariables>(LOG_IN, {\n    onCompleted: data => {\n      if (data && data.logIn) {\n        setViewer(data.logIn)\n        if (data.logIn.token) {\n          sessionStorage.setItem('token', data.logIn.token)\n        } else {\n          sessionStorage.removeItem('token')\n        }\n      }\n    },\n    onError: error1 => {\n      console.log('server error', error1)\n    },\n    context: {\n\n    }\n  })\n  const logInRef = useRef(logIn)\n\n  useEffect(() => {\n    logInRef.current()\n  }, [])\n\n  if (!viewer.didRequest && !error) {\n    return (\n      <Layout className='app-skeleton'>\n        <AppHeaderSkeleton />\n        <div className='app-skeleton__spin-section'>\n          <Spin size='large' tip='Launching TinyHouse'/>\n        </div>\n      </Layout>\n    )\n  }\n\n  return (\n    <StripeProvider apiKey={process.env.REACT_APP_S_PUBLISHABLE_KEY as string}>\n      <Router>\n        <Layout id='app'>\n          {\n            error ? (\n              <ErrorBanner description=\"We weren't able to verify if you were logged in.\"/>\n            ) : null\n          }\n          <Affix offsetTop={0} className='app__affix-header'>\n            <AppHeader viewer={viewer} setViewer={setViewer} />\n          </Affix>\n          <Switch>\n            <Route exact path='/' component={Home} />\n            <Route exact path='/host' render={props => <WrappedHost {...props} viewer={viewer} />} />\n            <Route exact path='/listing/:id' render={props => (\n              <Elements>\n                <Listing {...props} viewer={viewer}/>\n              </Elements>\n            )} />\n            <Route exact path='/listings/:location?' component={Listings} />\n            <Route exact path='/user/:id' render={props => <User {...props} viewer={viewer} setViewer={setViewer} />} />\n            <Route exact path='/login' render={props => <Login {...props} setViewer={setViewer} />} />\n            <Route exact path='/stripe' render={props => <Stripe {...props} viewer={viewer} setViewer={setViewer} />} />\n            <Route component={NotFound} />\n          </Switch>\n        </Layout>\n      </Router>\n    </StripeProvider>\n  )\n}\n\nrender(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}